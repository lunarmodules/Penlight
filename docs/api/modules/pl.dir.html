<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>pl.dir: Module Index</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h2>LuaDoc</h2>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h2>Modules</h2>
<ul>

	<li>
		<a href="../modules/pl.app.html">pl.app</a>
	</li>

	<li>
		<a href="../modules/pl.array2d.html">pl.array2d</a>
	</li>

	<li>
		<a href="../modules/pl.class.html">pl.class</a>
	</li>

	<li>
		<a href="../modules/pl.classx.html">pl.classx</a>
	</li>

	<li>
		<a href="../modules/pl.config.html">pl.config</a>
	</li>

	<li>
		<a href="../modules/pl.data.html">pl.data</a>
	</li>

	<li><strong>pl.dir</strong></li>
	
	<li>
		<a href="../modules/pl.file.html">pl.file</a>
	</li>

	<li>
		<a href="../modules/pl.func.html">pl.func</a>
	</li>

	<li>
		<a href="../modules/pl.input.html">pl.input</a>
	</li>

	<li>
		<a href="../modules/pl.lapp.html">pl.lapp</a>
	</li>

	<li>
		<a href="../modules/pl.lexer.html">pl.lexer</a>
	</li>

	<li>
		<a href="../modules/pl.list.html">pl.list</a>
	</li>

	<li>
		<a href="../modules/pl.operator.html">pl.operator</a>
	</li>

	<li>
		<a href="../modules/pl.path.html">pl.path</a>
	</li>

	<li>
		<a href="../modules/pl.permute.html">pl.permute</a>
	</li>

	<li>
		<a href="../modules/pl.pretty.html">pl.pretty</a>
	</li>

	<li>
		<a href="../modules/pl.seq.html">pl.seq</a>
	</li>

	<li>
		<a href="../modules/pl.sip.html">pl.sip</a>
	</li>

	<li>
		<a href="../modules/pl.stringio.html">pl.stringio</a>
	</li>

	<li>
		<a href="../modules/pl.stringx.html">pl.stringx</a>
	</li>

	<li>
		<a href="../modules/pl.tablex.html">pl.tablex</a>
	</li>

	<li>
		<a href="../modules/pl.test.html">pl.test</a>
	</li>

	<li>
		<a href="../modules/pl.text.html">pl.text</a>
	</li>

	<li>
		<a href="../modules/pl.utils.html">pl.utils</a>
	</li>

</ul>



<!-- File list -->






</div><!-- id="navigation" -->

<div id="content">

<h1>Module "pl.dir"</h1>

<p>Useful functions for getting directory contents and matching them against wildcards.</p>





<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#dir.clonetree">dir.clonetree</a>&nbsp;(path1, path2, file_fun, verbose)</td>
	<td class="summary">clone a directory tree.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.copyfile">dir.copyfile</a>&nbsp;(src, dest, flag)</td>
	<td class="summary">copy a file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.filter">dir.filter</a>&nbsp;(files, pattern)</td>
	<td class="summary">return a list of all files in a list of files which match the pattern.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.fnmatch">dir.fnmatch</a>&nbsp;(file, pattern)</td>
	<td class="summary">does the filename match the shell pattern?.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.getallfiles">dir.getallfiles</a>&nbsp;(start_path, pattern)</td>
	<td class="summary">	Recursively returns all the file starting at <i>path</i>.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.getdirectories">dir.getdirectories</a>&nbsp;(dir)</td>
	<td class="summary">return a list of all subdirectories of the directory.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.getfiles">dir.getfiles</a>&nbsp;(dir, mask)</td>
	<td class="summary">return a list of all files in a directory which match the a shell pattern.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.makepath">dir.makepath</a>&nbsp;(p)</td>
	<td class="summary">create a directory path.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.movefile">dir.movefile</a>&nbsp;(src, dest)</td>
	<td class="summary">move a file.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.rmtree">dir.rmtree</a>&nbsp;(fullpath)</td>
	<td class="summary">remove a whole directory tree.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#dir.walk">dir.walk</a>&nbsp;(root, bottom_up)</td>
	<td class="summary">return an iterator which walks through a directory tree starting at root.</td>
	</tr>

</table>






<br/>
<br/>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="dir.clonetree"></a><strong>dir.clonetree</strong>&nbsp;(path1, path2, file_fun, verbose)</dt>
<dd>
clone a directory tree. Will always try to create a new directory structure
if necessary.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  path1: the base path of the source tree
	</li>
	
	<li>
	  path2: the new base path for the destination
	</li>
	
	<li>
	  file_fun: an optional function to apply on all files
	</li>
	
	<li>
	  verbose: an optional boolean to control the verbosity of the output.
	</li>
	
</ul>




<h3>Usage:</h3>
clonetree('.','../backup',copyfile)





<h3>Return value:</h3>
if failed, false plus an error message. If completed the traverse,
 true, a list of failed directory creations and a list of failed file operations.



</dd>




<dt><a name="dir.copyfile"></a><strong>dir.copyfile</strong>&nbsp;(src, dest, flag)</dt>
<dd>
copy a file.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  src: source file
	</li>
	
	<li>
	  dest: destination file
	</li>
	
	<li>
	  flag: true if you want to force the copy (default)
	</li>
	
</ul>








<h3>Return value:</h3>
true if operation succeeded



</dd>




<dt><a name="dir.filter"></a><strong>dir.filter</strong>&nbsp;(files, pattern)</dt>
<dd>
return a list of all files in a list of files which match the pattern.
(cf. fnmatch.filter in Python, 11.8)


<h3>Parameters:</h3>
<ul>
	
	<li>
	  files: A table containing file names
	</li>
	
	<li>
	  pattern: A shell pattern.
	</li>
	
</ul>










</dd>




<dt><a name="dir.fnmatch"></a><strong>dir.fnmatch</strong>&nbsp;(file, pattern)</dt>
<dd>
does the filename match the shell pattern?.
(cf. fnmatch.fnmatch in Python, 11.8)


<h3>Parameters:</h3>
<ul>
	
	<li>
	  file: A file name
	</li>
	
	<li>
	  pattern: A shell pattern
	</li>
	
</ul>










</dd>




<dt><a name="dir.getallfiles"></a><strong>dir.getallfiles</strong>&nbsp;(start_path, pattern)</dt>
<dd>
	Recursively returns all the file starting at <i>path</i>. It can optionally take a shell pattern and
	only returns files that match <i>pattern</i>. If a pattern is given it will do a case insensitive search.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  start_path: {string} A directory. If not given, all files in current directory are returned.
	</li>
	
	<li>
	  pattern: {string} A shell pattern. If not given, all files are returned.
	</li>
	
</ul>








<h3>Return value:</h3>
Table containing all the files found recursively starting at <i>path</i> and filtered by <i>pattern</i>.



</dd>




<dt><a name="dir.getdirectories"></a><strong>dir.getdirectories</strong>&nbsp;(dir)</dt>
<dd>
return a list of all subdirectories of the directory.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  dir: A directory
	</li>
	
</ul>










</dd>




<dt><a name="dir.getfiles"></a><strong>dir.getfiles</strong>&nbsp;(dir, mask)</dt>
<dd>
return a list of all files in a directory which match the a shell pattern.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  dir: A directory. If not given, all files in current directory are returned.
	</li>
	
	<li>
	  mask: A shell pattern. If  not given, all files are returned.
	</li>
	
</ul>










</dd>




<dt><a name="dir.makepath"></a><strong>dir.makepath</strong>&nbsp;(p)</dt>
<dd>
create a directory path.
This will create subdirectories as necessary!


<h3>Parameters:</h3>
<ul>
	
	<li>
	  p: A directory path
	</li>
	
</ul>










</dd>




<dt><a name="dir.movefile"></a><strong>dir.movefile</strong>&nbsp;(src, dest)</dt>
<dd>
move a file.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  src: source file
	</li>
	
	<li>
	  dest: destination file
	</li>
	
</ul>








<h3>Return value:</h3>
true if operation succeeded



</dd>




<dt><a name="dir.rmtree"></a><strong>dir.rmtree</strong>&nbsp;(fullpath)</dt>
<dd>
remove a whole directory tree.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  fullpath: A directory path
	</li>
	
</ul>










</dd>




<dt><a name="dir.walk"></a><strong>dir.walk</strong>&nbsp;(root, bottom_up)</dt>
<dd>
return an iterator which walks through a directory tree starting at root.
The iterator returns (root,dirs,files)
Note that dirs and files are lists of names (i.e. you must say _path.join(root,d)_
to get the actual full path)
If bottom_up is false (or not present), then the entries at the current level are returned
before we go deeper. This means that you can modify the returned list of directories before
continuing.
This is a clone of os.walk from the Python libraries.


<h3>Parameters:</h3>
<ul>
	
	<li>
	  root: A starting directory
	</li>
	
	<li>
	  bottom_up: False if we start listing entries immediately.
	</li>
	
</ul>










</dd>


</dl>






</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
